{"version":3,"sources":["../../../../shoppingcart/src/store/actions.js"],"names":["getAllProducts","context","commit","apiProducts","getProducts","products","addToCart","productInfo","inventory","deleteCartProducts","num","submitCart"],"mappings":";;;;;;AASA;;;;;;AAGA,IAAIA,iBAAiB,SAAjBA,cAAiB,CAASC,OAAT,EAAiB;AACpC,MAAIC,SAASD,QAAQC,MAArB;AACEC,qBAAYC,WAAZ,CAAwB,UAASC,QAAT,EAAkB;AAC1C;AACAH,WAAO,iBAAP,EAA0BG,QAA1B;AACD,GAHC;AAIH,CAND,C,CAZA;;;;;;;;AAQA;;;AAYA,IAAIC,YAAY,SAAZA,SAAY,CAASL,OAAT,EAAiBM,WAAjB,EAA6B;AAC3C,MAAIL,SAASD,QAAQC,MAArB;;AAEA,MAAIK,YAAYC,SAAZ,GAAwB,CAA5B,EAA+B;AAAM;AACnCN,WAAO,aAAP,EAAsBK,WAAtB;AACD;AACF,CAND;;AAQA,IAAIE,qBAAqB,SAArBA,kBAAqB,CAAUR,OAAV,EAAmBM,WAAnB,EAAgC;AACvD,MAAIL,SAASD,QAAQC,MAArB;;AAEA,MAAIK,YAAYG,GAAZ,GAAkB,CAAtB,EAAyB;AACvBR,WAAO,qBAAP,EAA6BK,WAA7B;AACD;AACF,CAND;;AAQA,IAAII,aAAa,SAAbA,UAAa,CAASV,OAAT,EAAiB;AAChC,MAAIC,SAASD,QAAQC,MAArB;AACAA,SAAO,qBAAP;AACD,CAHD;;kBAKe;AACbF,gCADa;AAEbM,sBAFa;AAGbG,wCAHa;AAIbE;AAJa,C","file":"actions.js","sourcesContent":["/*\r\n * Action 类似于 mutation，不同在于：\r\n * Action 提交的是 mutation，而不是直接变更状态。\r\n * Action 可以包含任意异步操作。\r\n *\r\n * 据此，可以简单地把actions看成对mutations的封装\r\n * */\r\n\r\n// 引入api\r\nimport apiProducts from '../api/products'\r\n\r\n\r\nvar getAllProducts = function(context){\r\n  var commit = context.commit;\r\n    apiProducts.getProducts(function(products){\r\n    //console.info(products)\r\n    commit(\"receive_product\", products)\r\n  })\r\n}\r\n\r\nvar addToCart = function(context,productInfo){\r\n  var commit = context.commit;\r\n\r\n  if (productInfo.inventory > 0) {     //库存大于0的时候可以调用\r\n    commit(\"add_to_cart\", productInfo)\r\n  }\r\n}\r\n\r\nvar deleteCartProducts = function (context, productInfo) {\r\n  var commit = context.commit;\r\n\r\n  if (productInfo.num > 0) {\r\n    commit(\"delete_cart_product\",productInfo)\r\n  }\r\n}\r\n\r\nvar submitCart = function(context){\r\n  var commit = context.commit;\r\n  commit(\"submit_cart_product\");\r\n}\r\n\r\nexport default {\r\n  getAllProducts,\r\n  addToCart,\r\n  deleteCartProducts,\r\n  submitCart,\r\n}"]}